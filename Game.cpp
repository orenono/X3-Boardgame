#include "Game.h"
#include <iostream>
#include <stdlib.h>
using namespace std;

Game::Game()
{
     board = new BoardSquare[NUMBER_OF_SQUARES_IN_BOARD] {
        BoardSquare(DO_NOTHING, "White"),
        BoardSquare(DO_NOTHING, "White"),
        BoardSquare(DO_NOTHING, "White"),
        BoardSquare(SWITCH_PLACES, "Red"),
        BoardSquare(DO_NOTHING, "White"),
        BoardSquare(LOSE_TURN, "Black"),
        BoardSquare(DO_NOTHING, "White"),
        BoardSquare(GO_AGAIN,  "Green"),
        BoardSquare(MOVE_FOUR_FORWARD, "Blue"),
        BoardSquare(DO_NOTHING, "White"),
        BoardSquare(LOSE_TURN, "Black"),
        BoardSquare(DO_NOTHING, "White"),
        BoardSquare(DO_NOTHING, "White"),
        BoardSquare(DO_NOTHING, "White"),
        BoardSquare(SWITCH_PLACES, "Red"),
        BoardSquare(LOSE_TURN, "Black"),
        BoardSquare(DO_NOTHING, "White"),
        BoardSquare(GO_AGAIN, "Green"),
        BoardSquare(DO_NOTHING, "White"),
        BoardSquare(DO_NOTHING, "White"),
        BoardSquare(DO_NOTHING, "White"),
        BoardSquare(LOSE_TURN, "Black"),
        BoardSquare(DO_NOTHING, "White"),
        BoardSquare(MOVE_FOUR_BACKWARD, "Blue"),
        BoardSquare(DO_NOTHING, "White")
     };
}

void Game::play()
{
    setNumberOfPlayers();
    cout << "Great!! Now please enter all of the " << getNumberOfPlayers() << " players names:" << endl;
    createPlayers();
    cout << "Thank You!! You have such beautiful names!" << endl;
    cout << "Now, here are the rules of the game:" << endl;
    displayRules();
    displayBoard();
    cout << "Now that you know the rules, let's start the game!" << endl;

    // Determine who goes first
    int firstPlayerIndex = determineWhoGoesFirst();

    // Put first player at index 0 of players array
    if (firstPlayerIndex != 0)
    {
        string firstPlayerName = players[firstPlayerIndex].getName();
        string originalPlayerAtZeroName = players[0].getName();
        players[0].setName(firstPlayerName);
        players[firstPlayerIndex].setName(originalPlayerAtZeroName);
    }

    // Play the game!!
    Player* currentPlayer;
    Player* winner = NULL;
    int currPlayerIndex = 0;

    while (winner == NULL)
    {
        currentPlayer = &(players[currPlayerIndex]);

        // If player landed on LOSE_TURN before, switch turns and return the boolean to false
        if ((*currentPlayer).getLoseTurn())
        {
            cout << (*currentPlayer).getName() << " lost their turn, so we're moving on to next player." << endl;
            (*currentPlayer).setLoseTurn(false);
            currPlayerIndex = (currPlayerIndex + 1) % numOfPlayers;
            continue;
        }

        // Print current state to screen
        for(int i=0; i<numOfPlayers; i++)
        {
            showState(players[i]);
        }
        cout << endl;
        cout << "**********************************" << endl;
        cout << endl;
        cout << "Current player is: " << (*currentPlayer).getName() << endl;


        // Roll the die and print result to screen
        int dieResult = spinDie();
        cout << (*currentPlayer).getName() << " rolls die: " << dieResult << endl;

        // Update location of current player on the board
        (*currentPlayer).move(dieResult, NUMBER_OF_SQUARES_IN_BOARD);

        // If score is 3, current player is the winner
        if ((*currentPlayer).getScore() == 3)
        {
            winner = currentPlayer;
            break;
        }


        cout << (*currentPlayer).getName() << " landed on square " << (*currentPlayer).getLocation() << endl;
        cout << "Square contains: ";

        switch (board[(*currentPlayer).getLocation()].getAction())
        {
            case DO_NOTHING:
            {
                cout << "EMPTY" << endl;
                break;
            }
            case SWITCH_PLACES:
            {
                cout << "SWITCH PLACES" << endl;
                (*currentPlayer).switchPlaces(players[(currPlayerIndex + 1) % numOfPlayers]);
                break;
            }
            case LOSE_TURN:
            {
                cout << "LOSE TURN" << endl;
                (*currentPlayer).setLoseTurn(true);
                break;
            }
            case GO_AGAIN:
            {
                cout << "GO AGAIN" << endl;
                currPlayerIndex--;
                break;
            }
            case MOVE_FOUR_FORWARD:
            {
                cout << "MOVE 4 SQUARES FORWARD" << endl;
                (*currentPlayer).move(4, NUMBER_OF_SQUARES_IN_BOARD);
                break;
            }
            case MOVE_FOUR_BACKWARD:
            {
                cout << "MOVE 4 SQUARES BACKWARDS" << endl;
                (*currentPlayer).move(-4, NUMBER_OF_SQUARES_IN_BOARD);
                break;
            }
            default:
                break;
        }

        currPlayerIndex = (currPlayerIndex + 1) % numOfPlayers;
    }

    cout << "Congratulations " << (*winner).getName() << "!! YOU WON!! YOU ROCK!" << endl;
}

void Game::setNumberOfPlayers()
{
    cout << "You will now play the game X3!! 1-6 Players can play this game." << endl;
    cout << "How many players will play this game?" << endl;
    cin >> numOfPlayers;
    while (numOfPlayers < 1 || numOfPlayers > 6)
    {
        cout << "You can only choose a number from 1-6! Please choose a different number of players." << endl;
        cin >> numOfPlayers;
    }
}

int Game::getNumberOfPlayers()
{
    return numOfPlayers;
}

Game::~Game()
{
    delete [] board;
    delete [] players;
}

void Game::createPlayers()
{
    players = new Player[numOfPlayers];
    string n;

    cin.ignore();
    for (int i=0; i<numOfPlayers; i++)
    {
        getline(cin, n);
        players[i].setName(n);
    }
}

int Game::determineWhoGoesFirst()
{
    cout << "Let's roll the die to see who goes first" << endl;
    int max = 0;
    int currentDie;
    Player* currentPlayer;
    int playerWithHighestDieRoll;


    for (int i=0; i<numOfPlayers; i++)
    {
        currentPlayer = &(players[i]);
        currentDie = spinDie();
        cout << (*currentPlayer).getName() << " rolled a " << currentDie << endl;
        if (currentDie > max)
        {
            max = currentDie;
            playerWithHighestDieRoll = i;
        }
    }

    cout << "Congratulations " << players[playerWithHighestDieRoll].getName() << ", you have rolled the highest value so you go first" << endl;

    return playerWithHighestDieRoll;
}

void Game::showState(Player& player)
{
    cout << endl << "-----------------------------------------" << endl;
    cout << player.getName() << "'s score is: " << player.getScore() << endl;
    cout << player.getName() << "'s location is: " <<player.getLocation() << endl;
}

int Game::spinDie()
{
    return (rand() % 6) + 1;
}

void Game::displayRules()
{
    cout << "There are 1 -6 players to this game. In order to win, a player must be the first to complete three rounds at the board" << endl;
    cout << "Players take turns until one player wins. A turn consists of spinning the die and moving forward the number of spaces on the die." << endl;
    cout << "If there is an action symbol on the square that the player lands on, the action is done, otherwise the game continues with the next player." << endl;
}

void Game::displayBoard()
{
    cout << ".............................................................................................................................................................................. NMD$~ ..................." << endl;
    cout << "                                                                                                                                                                ..  ..         N$. .          .." << endl;
    cout << "                                                                                                                                                                .  ...         ?....        ...." << endl;
    cout << "                                                                                                                                                                 $MI ...    .. 8.           .M?. ." << endl;
    cout << "                                                                                                                                                                 $M$...     ..OM,           .MMD," << endl;
    cout << "                                                                                                                                                                .$  ..       .MMD...         ?  .." << endl;
    cout << "     ..   .      ...  ... ..                                                                                                                                    .8           DMMM?..      ...I." << endl;
    cout << "MMMMMM    IMMMMM  .~ZNMMMMZ,. ..                                                                                                                            ..  =M:         +MMMMM..      . NM ." << endl;
    cout << " MMMMM:.  MMMMM...DMMMMMMMMMM?                                                                                                                              .. .MMM.        MMMMMM7   .....~MM8 .." << endl;
    cout << ".$MMMMN. .MMMMO ..?MMMMMMMMMMM,                                                                                                                             ...DMMMM .    .8MMMMMMM,  ....,MMMMI.." << endl;
    cout << "..MMMMM: 8MMMM  ...$.   IMMMMMZ.                                                                                                                            ..IMMMMM=     ~MMMMMMMMM  ..  NMMMMM. .." << endl;
    cout << "..ZMMMMM MMMM8..  ...... OMMMM8                                                                                                                              .MMMMMMM. ...MNMMMMMMMM~    +MMMMMMZ..." << endl;
    cout << ".. MMMMM$MMMM ..      ...NMMMM=.                                                                                                                            .MMMMMMMMM  ...MMMMNMMMD  ..:MMMMMMMM$" << endl;
    cout << "... MMMMMMMM:...      ..MMMMMM                                                                                                                              ..MMMMMMM+ ....MMM..OMMD  .. MMMMMMMO" << endl;
    cout << "....DMMMMMMM.       DMMMMMMM=...                                                                                                                              MM$.IMM+..  .MMM. +MMD     MMM..MMO" << endl;
    cout << "    =MMMMMM.....  ..DMMMMMMD,...                                                                                                                              MM:. MM+    .MMM..+MMD     MMN .MMO." << endl;
    cout << "..  NMMMMMMM .......8NMMMMMMMM  ..............................................................................................................................MM: .MM+.....MMMMMMMMD.... MMN..MMO ......" << endl;
    cout << "...+MMMMMMMM=...    ..  .MMMMMM                                                           ..  ........  ......                                        ...   ..MMMMMMM+ ..  MMMMMMMMD     MMMMMMMO .. ." << endl;
    cout << "...MMMMZMMMMM...    ..   .MMMMM+                                                          ..  ........  ......                                        .. MMM$ MMMMMDM+~MMM.MM8MMMNMDNMMM MMMMM$MO MMM" << endl;
    cout << "..OMMMM.8MMMMD............MMMMM$........................................................  . . .::~:::::,. ..  .......................................... MMM7 MMMMMDM?=MMM,MM8MMMMMDDMMM MMMMM$MO MMM .." << endl;
    cout << "..MMMMD..MMMMM,......... .MMMMM=                                        ....... . . .?OO7~  . $.      .....,7DMZ, . ......                               MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM .." << endl;
    cout << " NMMMM:  ?MMMMN...M$:,.~8MMMMMN.                                  ......   ..,I$+.......  ....+   ..  ....    ..$ ..=I7=. ..  ......                  ...MN$MMNMOMM$MMNMM$MZMMMMMMOMDMMMNNOMMZNDMMDMM..." << endl;
    cout << "=MMMMM....MMMMMI..MMMMMMMMMMMM..                                  .......78?,    .......  .....~  ..  ....    ..7... . ..?O.........                  ...NDZMMDDOMMODNMMMZDZM..~,M8D8MMMDD8MMZD8MMNDN .." << endl;
    cout << "NMMMM? .  $MMMMM.IMMMMMMMMMM+  .                                  .. O+    .$ ..            .. Z....            : ..  ...... O+ ....                  .. MMMNNMMMNNNMMNNDMMM$..:~IOMMNNNMMNDNMMMNNMMM" << endl;
    cout << "~~~~= .... =~~~~:..~ZNNNZ=......................................  8: ........~................ O  .............:. ............  DI ..................... MMDMMDMMMMOMMOM$MM?Z..:~I+MM7MNMMNMDMMDMMDMM .." << endl;
    cout << "......    ..    ............                              .... ?:.....      .+                .+....        .. O .          ...Z . N.  .......        .. NDNMMDNDMMNDDMMMMM?Z..:~I?MMMMMNNNMMNDDMMMDN..." << endl;
    cout << "                                                        ...  M .              I.                , ..        .. I            ..$.  ...,+   ....        .. 8NOMMZNZMMZMMDMMMM?Z..:~I?MMMMMNN$MM8NOMMDMM .." << endl;
    cout << "                                                        ...O. ..              ?.                : ..        ..=             ..,   ..  .~I ....        .. MMMO8MMMO8DMM8O8MM?Z..:~I?MMD88MMDO8MMMO8NMM .." << endl;
    cout << "                                                      .. +, ..      ....    .. 8. ..            I ..        ..$           .. 7      ..   ?: ..        .. MMNMMDMMNMOMM8M$MM?Z..:~7+MM7M8MM8MNMMMMM8MM" << endl;
    cout << "....................................................... 7...........  $ ........,...............$ ............I........... .$....... ..... 7   ........................................................." << endl;
    cout << "                                                     .$ ..      ....8M.. .....  Z...            I...          :            D .    .,IM....  .$,.  .." << endl;
    cout << "                                                    :+. ..      ...M$ .OMM, ..   ?..            ,...         =..          O      :.MDD, ..   ..Z. .." << endl;
    cout << "...................................................Z ......... ?  ?M..M+.M+. ....+  ............ 7.......... O.......... =. ....$8M. ZM...... ..8......................................................." << endl;
    cout << "................................................. Z .......... :M8 . M, MD8MM8. ..+ ..........., Z  ........ 7..........~:...7.. N,D8 IO  .OI....:: ...................................................." << endl;
    cout << "................................................:?  ......... MM .M~ .DZ. DD  NZ .=. ...........MMN=. .. ...+......... .: .7.+M.  M:.Z.. MM?7M.....M. .................................................." << endl;
    cout << "...............................................,+Z .........IM: ZM. M...M7MO~M: ~ .8  ....  .  .=MMMMMM8,...$ ........ $ ZM DO=M,.~+.. 7M.ONNDM . ..8   ................................................" << endl;
    cout << "..............................................?...,Z: ......,..O8 OM =O.., $M~M.  . : ....:ZMMMMMMMMMM8:  ..?.........$ . $MM: .MZ .~M$ 7M.=D I~ ... D ................................................." << endl;
    cout << ".............................................:: .... I=....... NIM$.NM,M.. D8 . ....$.,=MMMN$,. 8MMD:  ....., ...... O. .. :M.  . ~, N~M:,M,?=...... .+ ................................................" << endl;
    cout << "............................................7.......... +O...... .IM=MM,8M.   ....  NMMM,......?:.$........+........Z .........  D+ . MMIM, . ...... .$7  .............................................." << endl;
    cout << "..........................................  :.............,Z,. ...? NO.N8??M   . =MMM?. ..........7....... O  .....~..........$= OZ.ND=M ........ .II  ., .............................................." << endl;
    cout << ".......................................... Z.............. . I= ..  O.M N7O  . ,MMN.  I...........= ...... I  ....,~..........N7N.MM.8O.........7$.. ...Z..............................................." << endl;
    cout << "..........................................O .................. .D  ... 8M=  .,MMZ   ..=........... ?......+.......~ ...........M.M7 ~ . .... 8: . ...... 8 ............................................." << endl;
    cout << ".........................................~$$  . ................. ~8.  + ...MMZ   .... O. ......   Z......Z......D. ...........:M.=....   D.. ........... :............................................." << endl;
    cout << ".........................................7....8=.  ..................++   NMN...........:.. .=ZO8O8NZ= .. +...  $...............?.... ?8 .................Z............................................." << endl;
    cout << "........................................D....... .D    ................ DMM..........  .N7. ..............OI. .O  ............ ... Z= .................... I ..........................................." << endl;
    cout << "........................................:....... . .,II............... OMM=Z........ ,$,  ................. .7$.. ............ .Z~.. ..................... Z  .........................................." << endl;
    cout << ".......................................M. ............. I$:.......... MM+ ...O,  ..+?   ...................... 8: ..........,7+   ......................  . ,..........................................." << endl;
    cout << "......................................~:..................  ~D... ..?MM ........8?. ............................ $ ......7? . .................. . ..,$O+. .$ .........................................." << endl;
    cout << "......................................8 .......................,$? +MM ....... 8  ................................I: .7I  ...............  . .,+77=,........Z .........................................." << endl;
    cout << "......................................~ ...................... .. IMN.........+ ...................................:I .. ...............,~ZZ~.. ... ........+..........................................." << endl;
    cout << ".................................... +  ........................ ?MM,  8~. .=,  ....................................Z......... ...~ZO+..... .................=.........................................." << endl;
    cout << ".................................... O..........................8M?.......:Z,....................................... 8 .  :=$7~.. ....=.... . ...............$.........................................." << endl;
    cout << "....................................=......................... +MD. .......7 ....................................... .D+............. M. .MMZ .  .  .........Z........ .  .............................." << endl;
    cout << "....................................$                         .+O       . O...........................................,............. IN .M: M.M7+ DMMI.......O....    ~I= .............................." << endl;
    cout << "....................................$.........................  ........ ,. ..........................................,............. MI +M..M NM..M7. .......O.....+MMMMMMM8  .........................." << endl;
    cout << "....................................Z...      .     ..   .   ..  ....... O  ..........................................,............. MI~=M D8 .OM M8M .......Z....NMMMMMMMMMM..........................." << endl;
    cout << "....................................$....MMMI.M7.M$ DM DM NMNM.MO 8M. ...Z.......................................... .. .............  ,.,7: MMM=~M .........+...~MMMMMMMMMMMN.........................." << endl;
    cout << "....................................$....MI ..M$.MM,8M 8M MD . M8 OM  .. I.......................................... =. ..........?MD$,~.  ....  ,+$~ ......=... $MMMMMMMMMMMM ......... .   ..........." << endl;
    cout << "....................................$ ...MDO= M$ M?M8M OM =MM+.MMMMM.... +.......................................... 7..............M. M:,M ND+...... ......Z .. =MMMMMMMMMMMM..........7MMMMM8........." << endl;
    cout << "....................................7 .. MO  .MO.M:M8M.OM.. $M,MN ZM. ...~.......................................... O............ Z8.+M.$D M:8M M+.M ......O ... MMMMMMMMMMM ........:MMMMMMMMMI ......" << endl;
    cout << "....................................7 ...MO ..MD.M: MM.ZM MNMN MM ZM....,,..........................................,, +$= .. .... M~.8M M=,MDD,?MM N ......:......IMMMMMMM8. ........MMMMMMMMMMM7  ...." << endl;
    cout << "....................................7... ~,.  ::  .  ..... .... .   :=7$O,..........................................7.... .I7 ..  ,M,.OMIN.ZO.M.D8M?I .... I  ........MMM.. .........~MMMMMMMMMMMM  ...." << endl;
    cout << "....................................$....:=?ZZODOZZ7?=, .......................................................... 8 ...+I .   $7  .  .... M= M.N~ZM, .... D..........MMM......,  ....MMMMMMMMMMMM ....." << endl;
    cout << "....................................... .........  ... ...........................................................O..  MZ~M.. .   :Z+ ........ ., .$......Z...........MMM.....~M .....NMMMMMMMMMM,. ...." << endl;
    cout << ".................................................................. .OM  ........................................ 8:   .MO  NN.......   8=. ...............= ..........MMM.....MM:..... OMMMMMMMM ,......" << endl;
    cout << "...................................................................M:..........................................7  ::DM.NM 8M.MM.. ......  ,8~........... N  ..........MMM.....MMN....... .NMM+ ........." << endl;
    cout << "...................................=. ......... .  . .............+M. ....................................   :?....~,=D$.~N?8M:=M7............?$,  .....7.............MMM... NMMM:  ......NMM..........." << endl;
    cout << "..................................NO..........O .?DNZ=,...........~M. .................................... ,$  ... .Z.. ~MM=D7NN.7M .......... ...O~....:.............MMM...~MMMMM .......NMM..........." << endl;
    cout << ".................................,N ........ M MM$MMMM M. .........M.................................... 8.......... D  ...$DM  MM.MM:. ..........  .,O$  .......,....... ..NMMMMM,.......NMM..........." << endl;
    cout << ".................................N~.........O,DM.MMM+M,M.......... O= ............................  .=$...............Z,......~MI. 8M$8 ............. + ........$M..........MMMMMMM.......NMM..........." << endl;
    cout << ".................................M,....... .O.M8$MMDIM,M. ........ I?................... .. .  .~NN,.................. 8......MI..NM. IMM= ..........7 .........MM. .......MMMMMMMM~......NMM..........." << endl;
    cout << ".................................M, ...... Z:MM.MMM8IM,M. .Z.... ..M: .............. :+ZMMMN?,..........................~.......,M$.~M8. $?+.  .....~ ........ =MMO.......+MMMMMMMMM  ....NMM..........." << endl;
    cout << ".................................8~ ...... M  +87,:,7M,M. M~ ....M$.  .............Z.:ZI.     ..........................~:.......?..MD ..IM:.= ...$............MMMM.......NMMMMMMMMM, ....... .........." << endl;
    cout << ".................................,8.......O~::.. ..    = ?$.....NI. .............. O  .  .:8I   ........................ ., ........MO. MN7 MM  .D ...........ZMMMMM  ...,MMMMMMMMMMM .................." << endl;
    cout << "............................ +, ..M.......M.M+8MMMMO+I M M:.....N?................ O  ......  .,OI .. ....................$   ...... I,M$.8M:. Z  ............MMMMMM, ...MMMMMMMMMMMM~. .... ..........." << endl;
    cout << "............................=M ...8O .....$==......,7M+D M,.....~M ............... O  ............ :I7:.. . ...............Z. ........ ? $M:.,?..............=MMMMMMZ ..+MMMMMMMMMMMMM .....,+.........." << endl;
    cout << "............................N~ ...,M  .. $, . ..... 7DZ?.M,......+M............... O  ............   . .?O~,................Z ........   D,.O  ............. MMMMMMMM...MMMMMMMMMMMMMM, ....8M ........." << endl;
    cout << "............................M .... Z?... ~. ........, N. O= .......7M............. O  ..................   ..,IZ~ ...........D ..........:+.. ..............OMMMMMMMMM ..   .MMMMD    . ....MM~ ........" << endl;
    cout << "............................D...... M .. M=,..........M .,D ........=M. .......... O  .......................... .?7+.. .... .+ ...... +I ..................MMMMMMMMMM, .....MMMMD.........8MMM........." << endl;
    cout << "............................M.......N:..?D7MM=.... ...? ..M ........M~............ O  .................................ZZ   . .~. .  Z, ....................,,.OMMM......... MMMMD.........MMMM=  ......" << endl;
    cout << "............................M ......O8 .7Z=MMMMMMMMM~D,...OD...................... O  .... . .  ............................OO. , $7.......................... OMMM......... MMMMD........NMMMMM........" << endl;
    cout << "............................N=......IM. =O.:MMMMMMM8:M.....M. .................... O  ....  MZ  ............................. .$$$7  ......................... OMMM......... MMMMD........MMMMMM:......." << endl;
    cout << "............................?M .....7M.. M .. 787...M......Z?..................... O  ......MMMM ........................  O~ ,$ ... :D. ..................... OMMM......... MMMMD...... 8MMMMMMM......." << endl;
    cout << ".............................M, ....D7.. M. . .... Z: ..... M..................... O  ......8MMMMN ................. ,.8=.  . , ....... .=$  ................. OMMM......... MMMMD......,MMMMMMMM+ ....." << endl;
    cout << ".............................?$ ....M ...~:M....:.7O  ......M:.................... O  ......?MMMMMMN,  .........  .II:......+~..... I.......7?. .............. OMMM..........MMMMD .....DMMMMMMMMM ....." << endl;
    cout << "............................ .M ...M, .. .8,$ .Z?:7 ........8O.................... O  .......MMMMMMMMM. .......:O+. ...... ,:.....IM$ ........,8.............. OMMM..........MMMMD .....MMMMMMMMMM, ...." << endl;
    cout << "..............................88. IM. ....~$O7D M,  ........IM  .................. O  .......MMM?MMM?,  .. 77, .. ........O.. .=MO NNMD........ .:$ .......... OMMM..........MMMMD.........8MMM........." << endl;
    cout << "..............................,M  D$...... I,+I8. ..........$N.................... O  ...... $M,...$MM=~$+  . .......... Z.. .,M,...MM..~..........~?  ....... OMMM..........MMMMD ....... 8MMM ........" << endl;
    cout << "...............................M,.DI........ZM  ............N=.................... O  ...... .=.  ..$NMM  . ........... 8..DMM,8MMMM MMM,........... ~,. ......+$$7 .........MMMMD.........8MMM........." << endl;
    cout << "...............................M: OO. .....................+O..................... O  ...... ...ZZ  ...MMM ............N .DM +MI...M: . . MM  .........O. .................. MMMMD.........8MMM........." << endl;
    cout << ".............................. M, ~M  .....................M. .................... O  .... ,$7      ..  ,MMZ  ........OM  =M= 7M,IN,   8MO.ND ..........,M  ................ NNNN8.........8MMM........." << endl;
    cout << "..............................:M ..N: ....................ZD...................... O  .,$O.   ............$MM.  ....~~ MM  :MM=M, ..~M8 NNMMON  ....  7$..D  ................    ..........8MMM........." << endl;
    cout << "..............................M~. ..M.....................N?.......................Z?$..  .     ..........  MM8....,....NM. = ,. .,M$ NM OM.OMD... ~7 . .. :+..............................8MMM........." << endl;
    cout << "............................ ~O ....$M  ......... ~.......N+............................,:==I7$?~ ....    .. ~MM~.7......NMM:, .OM,,MOMM? DM.   ,Z, ........+O ............................8MMM ........" << endl;
    cout << "............................ M, .....7N .........M,.......8O............................  . .. ..  =$Z=:....   DMM, ......,   M?.NM.+M+ MM. . 77 . ......... ,7............................8MMM ........" << endl;
    cout << ".............................M....... .8N ......$M. ......:M .......................................   . .,$8:. $8MM,..... OMZ,M7 ZM, MN  .O, . ...............M ......................... I777 ........" << endl;
    cout << ".............................M. .........N$.....,M. .......N=...............................................  +D  ,MMN, ..M7M=. M8.MI.  77 ...................  8 ......................................" << endl;
    cout << "............................ M............8D ....IO....... .M  ..................................................I~ :MMM   .7M: ,MMN  8   ...................... D. ...................................." << endl;
    cout << ".............................Z+...........:M  ....DZ. ......IM......................................................8  MMM:  ~M?   N..............................~ ...................................." << endl;
    cout << "............................  M ..........ZN. .....M: ........M=. ..................................................  8, ?MMO.=,8.    ............................~,...................................." << endl;
    cout << "..............................$M  ........Z........D:......... $M.  ....................................................$.. MMM, ..................................I ..................................." << endl;
    cout << ".............................. DI.................NM ........... $M..................................................... ,$+ .8MMM  . ...............  ... .  ,+ZOOI+ .................................." << endl;
    cout << "................................NN.. ............:8 ..............ON. ....................................................,D....+MMM+..   .. .  . :=?7$I+~:.........I..................................." << endl;
    cout << "..................................MM. . .........:O ..............=M .......................................................8+. ...,MMM7ZO7~  .......................8. ................................" << endl;
    cout << "..................................  MO  ........  D8 .............D$  .......................................................ZI:,,....$MMD:. ........................:. ................................" << endl;
    cout << ".....................................M, ...........ZM=. ..........= ..........................................................$.........~8MMO: .......................~................................." << endl;
    cout << ".................................... O~ .............=MM.......................................................................Z.......... :MMM+......................Z ................................" << endl;
    cout << ".................................... M,................ M......................................................................., ............, ......................I................................." << endl;
    cout << ".....................................+. ............... ~ ......................................................................Z............. ....................... =................................" << endl;
    cout << "................................................................................................................................~......................................Z................................" << endl;
    cout << "................................................................................................................................ O..............   ................... Z ..............................." << endl;
    cout << "................................................................................................................................ O. ............$8+.... ...............D. .............................." << endl;
    cout << "............................                                       ............................................................. ~..............M77M,.+............... 8................................" << endl;
    cout << "............................O+++++++++++++++++++++++++++++++++++++Z............................................................................MD 8M.M8............... 8  .............................." << endl;
    cout << "............................$ .......................... =ZI......7..............................................................,. ..........ZMZM8 OM. ..?MN ,  ......8. .............................." << endl;
    cout << "............................$..................... ,, ,MMMZ: ......=............................................................ + ...........MD..  MO   :MZ$ MM ,  ...N. .............................." << endl;
    cout << "............................+...........   ..,I,.+MO7MZ..M8 ...... O. .......................................................... O ......... . ....MD ..8M M, M7DM.....M................................" << endl;
    cout << ".............................~..........,+M.=MN+  MM.NM .$M....... ., .......................................................... $ .........O:. ...?NM~ZMMMM  MNO.  ...M. .............................." << endl;
    cout << ".............................Z......DOOMMM= :M?M, 8MMM=. .M8  ......+...........................................................+.........~MN8 . .    :D..NN .M+  .... M. .............................." << endl;
    cout << "............................ 8. ..NM: ..7M:..M:8M.,M7.MM  NM   . ,87+...........................................................Z ...... .M M, MMMMM .. ..=~.MO.......:I................................" << endl;
    cout << ".............................+. ..NM: . .M8 .MNMMN DM.7MI.,.:7I~  .. 8........................................................  ~ ....  +MO+M.MM  ...,M8... ..........7................................." << endl;
    cout << "..............................:... ~MMM. ?M,.MO :M$.= .~8?............= ...................................................... $8.. . .7M..M?IM.NMI OMN8  MM.   ......D................................." << endl;
    cout << "..............................7 ....  MM  MM.N=.. =O?. ...............+.......................................................+,. ,8.. ...:M,?M.8M ZM M..OM IM~., ....O................................." << endl;
    cout << "..............................$ .. ,$MM~ .:,.,?$= .................... O .................................................... : ...  ?I .. . .$MM~DMMNM.=M~ MM: M,... :................................." << endl;
    cout << "...............................~  ..?,  ,,O$ ...........................$................................................... $:.........O:., ....~M .M7.NM.$DN:M7 .. $ ................................." << endl;
    cout << "...............................O . :$7: .............................. .?$ ................................................~...Z.......... =Z. .. .. ~.OM.+M,M$M ....N.................................." << endl;
    cout << "............................... ZI   .  ...............................O. Z...............................................O  ...~.........    7?. .. .. . MO.MM:. ..Z .................................." << endl;
    cout << "................................7 .................................. :,... .~............................................M. ....,:.............  Z~.  ....   N$.....7 .................................." << endl;
    cout << "................................7................................. .?....... I,,..................................... .M  ...... .: ...............,O= ............~. .................................." << endl;
    cout << ".................................D ............................. .O ...........7:...................................,N............~:.................. 7= . .......7...................................." << endl;
    cout << "..................................: .......................... .D ...............,8 ..... ......................  O=..........  . .., ....................Z=. . . 8 ...................................." << endl;
    cout << "..................................$...........................?~. ..............I . .Z$ ......................,D:. ........... ,MM, + .......................$~ .~......................................" << endl;
    cout << "                                .. N.                   .....O ...            .:, ....  :I$+..... .......:+Z?.. ..         .:ZMOMZ   =....                ..  .,7? ." << endl;
    cout << "                                  ..:.                .... +, ..            ..+.......      .  O,=++~,.   .O              OMM$?M:.ON .8. .                  ..  ?..." << endl;
    cout << "                                    .$ ...          ...  7.   ..            .7  .. . ..       .?..    ..   ..       .... .. .M$DMD, I..+.                   .. Z" << endl;
    cout << "                                    ..: ..          ....I     ..            Z ....OMM?..      ?...    ..    =.      .. O$.. MMD~..IMM.. 8                   ..$ ." << endl;
    cout << "                                    ..I  .        ... D.                  .$ ....,..~MMMM   ..Z           ..$ ..    =...M?  , .NM?M=.... 8                  .N." << endl;
    cout << "                                       :: ..    .. .$..               ..  O     .,NMM8. .     ~.            .:...?..8MNMM8 ...MD.:MMMM+...8 ..            . I..." << endl;
    cout << "                                        =?        ~?.                 ...D....  D8  ..NM    .:..             O. .7NNMMI $M7  .MZMMM=. , .  8,           ..,=." << endl;
    cout << "                                          =  .   M                      8   ....$M,  .M,..   O              .., ..N$.. MM.NM.. M, .?MMMMO ..O.        .. =." << endl;
    cout << "                                          .M   8., .                   D..  ...M?.MMMM7...   I..            ..+ .. NZ ~M~  N..  $MMM,  8M ...N .      ..N.." << endl;
    cout << "                                           .O.: ..                  . $,..    IMN7 .      ..?...            ..$....,MNMM. ,?+ ..Z?  ~DMM, ..  + ......,7.                               .." << endl;
    cout << "                                          ...,~                      $.     ..,,. OMMI    ..Z.              .. +..   . :MMM7?M:. =MMM,    8... D.....M. ..                               ." << endl;
    cout << "                                               D....            ....+        8MM7 ..       .~...               O. ....DM?  .8M:  .~....$MMN:..  ?  +:                                 ..D....." << endl;
    cout << "                                                I=..            .. Z        +M:.$MMD.      .....               .,.....MD,=NMM~OM  :M$MMM=   ..  .?Z ..                                ..MO...." << endl;
    cout << "                                            ..   ,N.            . ?.      ..  DM+ . ..     O. ..              ..+...   MMMZ  ..M7  :M7 .  ..     N  ..                                 OMM" << endl;
    cout << "                                                ....D .          I..      ..MMMMOMM ..     7..                  $...  ....  .NMMZ ..8D .    .,7=.,                                    .MMM?." << endl;
    cout << "                                                      D.. ......=...      ~M7,7M:.        ? ..                   = .  .. :MMM$.       ..   :D...                                    ..DMMMM." << endl;
    cout << "                                                  ......N ..  ~~....     .=..?DMMM.       $.                    .O ......ZI ....      ...$I ....                                  ... MMMMM8" << endl;
    cout << "                                                  ......  =O ., ....     +Z..DN. ..       ~                     .., ...... .....      +M. ......                                  ...8MMMMMM." << endl;
    cout << "                                                           .:O.   ..    . MMM+=M,...    ...                     ..+...          ...:N? .    ....            ..... ..                .MMMMMMM? .." << endl;
    cout << "                                                               .8~ . .  ..  ..MM  ..    .O.                     ..7.  ..  ...  .OM.   ..    .. 8....        .. ?. ..       M. ..    NMMMMMMMM .." << endl;
    cout << "                                                                ...~Z~...   ........  ...I....                  ...+  .. .. ~8+,..          ..8M .          ...M7 ..      ,M=...    MMMMMMMMM8." << endl;
    cout << "                                                                ....   ?8I: ........  ..+ ....                  .. O ...=$7. .  ..          ..MM+           ..ZMM ..      NMM ..  .DMMMMMMMMMM." << endl;
    cout << "                                                                      .. ...+MMI .   ...$ ..      .............   ,$DZ...                   .7MMM.          ..MMMD .     .MMM?....,MMMMMMMMMMM?." << endl;
    cout << "                                                                        ....  . ... :+?7777I??++++++??I$$$I+~,  ...       ..              ...MMMMO..        .IMMMM.     .NMMMM  ..NMMMMMMMMMMMM.  .." << endl;
    cout << "                                                                                      ......................                              ..DMMMMM .         MMMMMZ.....:MMMMM=  .MMMMMMMMMMMMMD." << endl;
    cout << "                                                                                                                                            MMMMMM+ ..    ..ZMMMMMM   ..NMMMMMM .DMMMMMMMMMMMMMM...." << endl;
    cout << "                                                                                                                                          .ZMMMMMMM ..    ..MMMMMMMN  ..MMMMMMM7:MMMMMMMMMMMMMMM7..." << endl;
    cout << "                                                                                                                                           MMMMMMMM$.     .+MMMMMMMM,..8MMMMMMMMNMMMMMMMMMMMMMMMM..." << endl;
    cout << "                                                                                                                                          NMMMMMMMMM..  .. MMMMMMMMMO.:MMMMMMMMMMMMMMMMMMMMMMMMMMN." << endl;
    cout << "                                                                                                                                         .MMMMMMMMMM?.    OMMMMMMMMMM.NMMMMMMMMMMMMMMMMMMMMMMMMMMM,." << endl;
    cout << "                                                                                                                                         ZMMMMMMMMMMM.    MMMMMMMMMMM8MMMMMMMMMMMMMMMMMMMMMMMMMMMM7." << endl;
    cout << "                                                                                                                                      ...MMMMMMMMMMMMZ  .?MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM .." << endl;
    cout << "                                                                                                                                      ..DMMMMMMMMMMMMM.. MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM.." << endl;
    cout << "                                                                                                                                      ..MMMMMMMMMMMMMMI OMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM." << endl;
    cout << "                                                                                                                                       OMMMMMMMMMMMMMMM MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM$" << endl;
    cout << "                                                                                                                                      ,MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM." << endl;
    cout << "                                                                                                                                  ..  NMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM" << endl;
    cout << "                                                                                                                                    ..MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM," << endl;
    cout << "                                                                                                                                     OMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM$." << endl;
    cout << "                                                                                                                                    .MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM." << endl;
    cout << "                                                                                                                                    DMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMN" << endl;
}
